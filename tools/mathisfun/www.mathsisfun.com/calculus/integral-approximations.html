<!DOCTYPE html>
<html lang="en"><!-- #BeginTemplate "/Templates/Advanced.dwt" --><!-- DW6 -->

<!-- Mirrored from www.mathsisfun.com/calculus/integral-approximations.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 29 Oct 2022 00:32:09 GMT -->
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">


<!-- #BeginEditable "doctitle" -->
<title>Integral Approximations</title>
<meta name="description" content="Integration can sometimes be hard or impossible, but we can add up lots of slices to get an approximate answer">

<script language="JavaScript" type="text/javascript">Author='Sayid, Khalil and Pierce, Rod';</script>

<!-- #EndEditable -->
<meta name="keywords" content="math, maths, mathematics, school, homework, education">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="HandheldFriendly" content="true">
<meta name="referrer" content="always">
	<link rel="preload" href="../images/style/font-champ-bold.ttf" as="font" type="font/ttf" crossorigin="">
	<link rel="preload" href="../style4.css" as="style">
	<link rel="preload" href="../main4.js" as="script">
<link rel="stylesheet" href="../style4.css">
<script src="../main4.js" defer="defer"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-29771508-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-29771508-1');
</script>
</head>

<body id="bodybg" class="adv">

	<div id="stt"></div>
	<div id="adTop"></div>
	<header>
	<div id="hdr"></div>
	<div id="tran"></div>
	<div id="adHide"></div>
	<div id="cookOK"></div>
	</header>
	
	<div class="mid">

	<nav>
		<div id="menuWide" class="menu"></div>
		<div id="logo"><a href="../index.html"><img src="../images/style/logo-adv.svg" alt="Math is Fun Advanced"></a></div>

		<div id="search" role="search"></div>
		<div id="linkto"></div>
	
		<div id="menuSlim" class="menu"></div>
		<div id="menuTiny" class="menu"></div>
	</nav>
	
	<div id="extra"></div>

<article id="content" role="main">

<!-- #BeginEditable "Body" -->


<h1 class="center">Integral Approximations</h1>

<p style="float:left; margin: 0 10px 5px 0;"><img src="images/integral-area0.gif" alt="integral area" height="171" width="195"></p>
      <p>&nbsp;</p>
      <p><a href="integration-introduction.html">Integration</a> is the best way to find the <b>area</b> from a curve to the axis, because we get a formula for an <b>exact</b> answer.</p>
<div style="clear:both"></div>
<div style="clear:both"></div>
      <p style="float:right; margin: 0 0 5px 10px;"><img src="images/integral-area1.gif" alt="integral area small delta x" height="171" width="195"></p>
      <p class="right">But when integration is hard (or impossible) we can instead  add up lots of slices to get an <b>approximate</b> answer.</p>
      <p>Let's have a go!</p>


<h2>Examples</h2>

<p>Let's  use  <b>f(x) = ln(x)</b> from x = 1 to x = 4</p>
      <p>We actually <i><b>can</b></i> integrate that (this let's us check answers) and get the true answer of <b>2.54517744447956....</b></p>
      <p>But <b> imagine we can't</b>, and all we can do is calculate values of ln(x):</p>
      <ul>
        <li>at x=1: ln(1) = 0</li>
        <li>at x=2: ln(2) = 0.693147...</li>
        <li>etc</li>
      </ul>
      <p>We will use a slice width of <b>1</b> to make it easy to see what is going on, but smaller slices are more accurate.</p>
      <p>There are different methods we can use:</p>
      <p>&nbsp;</p>

<h3>Left Rectangular Approximation Method (LRAM)</h3>
      <p class="center"><img src="images/integral-approx-1.gif" alt="integral approximation Left Rectangular Graph" height="121" width="300"></p>
      <p>This method uses rectangles whose height is the left-most value. Areas are:</p>
      <ul>
        <li><i>x=1 to 2:</i> ln(1) × 1 = 0 × 1 = 0</li>
        <li><i>x=2 to 3:</i> ln(2) × 1 = 0.693147... × 1 = 0.693147...</li>
        <li><i>x=3 to 4:</i> ln(3) × 1 = 1.098612... × 1 = 1.098612...</li>
      </ul>
      <p>Adding these up gets <b>1.791759</b>, much lower than 2.545177. Why?</p>
      <p>Because we are missing all that area between the tops of the rectangles and the curve.</p>
      <p>This is made worse by a curve that is constantly increasing. When a curve goes up and down more, the error is usually  less.</p>

<h3>&nbsp;</h3>

<h3>Right Rectangular Approximation Method (RRAM)</h3>
      <p class="center"><img src="images/integral-approx-2.gif" alt="integral approximation Right Rectangular Graph" height="124" width="300"></p>
      <p>Here we calculate the rectangle's  height using  the right-most value.  Areas are:</p>
      <ul>
        <li><i>x=1 to 2:</i> ln(2) × 1 = 0.693147... × 1 = 0.693147...</li>
        <li><i>x=2 to 3:</i> ln(3) × 1 = 1.098612... × 1 = 1.098612...</li>
        <li><i>x=3 to 4:</i> ln(4) × 1 = 1.386294... × 1 = 1.386294...</li>
      </ul>
      <p>Adding these up gets <b>3.178054</b>, which is now much higher than 2.545177,  because of the extra areas between the tops of the rectangles and the curve.</p>

<h3>&nbsp;</h3>

<h3>Midpoint  Rectangular Approximation Method (MRAM)</h3>
      <p class="center"><img src="images/integral-approx-3.gif" alt="integral approximation Midpoint Rectangular Graph" height="121" width="300"></p>
      <p>We can also use the midpoint!  Areas are:</p>
      <ul>
        <li><i>x=1 to 2:</i> ln(1.5) × 1 = 0.405465... × 1 = 0.405465...</li>
        <li><i>x=2 to 3:</i> ln(2.5) × 1 = 0.916291... × 1 = 0.916291...</li>
        <li><i>x=3 to 4:</i> ln(3.5) × 1 = 1.252763... × 1 = 1.252763...</li>
      </ul>
      <p>Adding these up gets <b>2.574519...</b>, which is quite close to 2.545177.</p>
      <p>&nbsp;</p>

<h3>Trapezoidal Rule</h3>
      <p class="center"><img src="images/integral-approx-4.gif" alt="integral approximation: Trapezoidal Rule" height="118" width="300"></p>
      <p>We can have a sloped top! Each slice is now a <a href="../geometry/trapezoid.html">trapezoid</a> (or possibly a triangle), so it is called the Trapezoidal Rule.</p>
      <p class="center"><img src="images/integral-approx-6.gif" alt="integral approximation: Trapezoidal Rule zoomed in" height="130" width="300"></p>
      <p>The calculation just averages the left and right values.   Areas are:</p>
      <ul>
        <li><i>x=1 to 2:</i> <span class="intbl">
          <em>ln(1) + ln(2)</em>
          <strong>2</strong>
        </span>  × 1 = <span class="intbl">
        <em>0 + 0.693147...</em><strong>2</strong>
        </span> × 1 = 0.346573...</li>
        <li><i>x=2 to 3:</i> <span class="intbl">
          <em>ln(2) + ln(3)</em><strong>2</strong>
        </span>  × 1 = <span class="intbl">
        <em>0.693147... + 1.098612...</em><strong>2</strong>
        </span> × 1 = 0.895879...</li>
        <li><i>x=3 to 4:</i> <span class="intbl"><em>ln(3) + ln(4)</em><strong>2</strong>
        </span>  × 1 = <span class="intbl">
        <em>1.098612... + 1.386294...</em><strong>2</strong>
        </span> × 1 = 1.242453...</li>
      </ul>
      <p>Adding these up gets <b>2.484907</b>, which is still a bit lower than 2.545177, mostly because the curve  is <a href="concave-up-down-convex.html">concave down</a> over the interval.</p>
      <p>Notice that in practice each value gets used twice (except first and last) and then the whole sum is divided by 2:</p>
      <p class="so"><span class="intbl">
      <em>ln(1) + ln(2)</em>
      <strong>2</strong>
      </span> × 1 + <span class="intbl">
      <em>ln(2) + ln(3)</em>
      <strong>2</strong>
      </span> × 1 + <span class="intbl">
      <em>ln(3) + ln(4)</em>
      <strong>2</strong>
      </span> × 1</p>
      <p class="so"><span class="intbl">
      <em>1</em>
      <strong>2</strong>
      </span> × ( ln(1) + ln(2) + ln(2) + ln(3) + ln(3) + ln(4) )</p>
      <p class="so"><span class="intbl">
      <em>1</em>
      <strong>2</strong>
      </span> × ( ln(1) + 2  ln(2) + 2 ln(3)  + ln(4) )</p>
      <p>So we can have a general formula:</p>
      <p class="so"><span class="intbl">
        <em>Δx</em>
        <strong>2</strong>
      </span> × ( f(x<sub>0</sub>) + 2f(x<sub>1</sub>) + 2f(x<sub>2</sub>) + ... 2f(x<sub>n−1</sub>) + f(x<sub>n</sub>) )</p>
      <p>By the way, this method&nbsp;is just the average of the Left and Right Methods:</p>
    <p class="center">Trapezoidal Approximation = <span class="intbl">
      <em>LRAM + RRAM</em>
        <strong>2</strong>
      </span></p><p>&nbsp;</p>
      <p class="words">Note: the previous 4  methods are also called <b>Riemann Sums</b> after the mathematician Bernhard Riemann.</p>
      <p>&nbsp;</p>

<h3>Simpson's Rule</h3>
      <p class="center"><img src="images/integral-approx-5.gif" alt="integral approximation: Simpsons Rule" height="118" width="300"></p>
      <p>An improvement on the Trapezoidal Rule&nbsp;is Simpson's Rule. It is based on using parabolas at the top instead of straight lines. The parabolas often get quite close to the real curve:</p>
      <p class="center"><img src="images/integral-approx-7.gif" alt="integral approximation: Simpsons Rule zoomed in" height="194" width="300"></p>
      <p>It sounds hard, but we  end up with a  formula like the trapezoid formula, but we  divide by 3 and use a 1, 4, 2, ..., 2, 4, 1 pattern of factors:</p>
      <p class="so"><span class="intbl">
        <em>Δx</em>
        <strong>3</strong>
      </span> × ( f(x<sub>0</sub>) + 4f(x<sub>1</sub>) + 2f(x<sub>2</sub>) + ... 4f(x<sub>n−1</sub>) + f(x<sub>n</sub>) )</p>
      <p>But:  <b>n must be even</b>. So let's take 6 slices of 0.5 each:</p>
      <p class="so"><span class="intbl">
        <em>0.5</em>
        <strong>3</strong>
      </span> × ( f(1) + 4f(1.5) + 2f(2) + 4f(2.5) + 2f(3) + 4f(3.5) + f(4) )</p>
      <p>Plugging in values of ln(1) etc gives:</p>
      <p class="so"><span class="intbl">
        <em>0.5</em>
        <strong>3</strong>
      </span> × ( 15.2679... )</p>
      <p class="so">2.544648...</p>
      <p>This is a great result when compared to <b>2.545177...</b>.</p>


<h2>Plus and Minus</h2>

<p><span style="float:right; margin: 0 0 5px 10px;"><img src="images/integral-def-cos-1-3.svg" alt="definite integral cos(x) from 1 to 3" height="127" width="212"></span></p>
      <p>When the curve is below the axis&nbsp;the value of the integral&nbsp; is negative!</p>
<p><b>So we get a "net" value.</b></p>
<div class="center80">If we want a total <b>area</b> (say we wanted to paint it) we can use the <a href="../sets/function-absolute-value.html">absolute value</a> function  <b>abs()</b>. Or manually find where the curve crosses the axis and then work out separate integrals and reverse the negatives before adding.</div>


<h2>Error and Accuracy</h2>

<p>Let's compare them all:</p>
      <div class="simple">
        <table align="center" cellpadding="5">
          <tbody>
<tr>
            <td class="large"><b>f(x)=ln(x)</b></td>
            <td style="text-align:center;">N = 3</td>
            <td style="text-align:center;">&nbsp;</td>
            <td style="text-align:center;">&nbsp;</td>
            <td style="text-align:center;">N = 6</td>
            <td style="text-align:center;">&nbsp;</td>
            <td style="text-align:center;">&nbsp;</td>
            <td style="text-align:center;">N = 100</td>
            <td style="text-align:center;">&nbsp;</td>
            </tr>
          <tr>
            <td><br>
</td>
            <td style="text-align:center;">Estimation</td>
            <td style="text-align:center;"><i>Error</i></td>
            <td style="text-align:center;">&nbsp;</td>
            <td style="text-align:center;">Estimation</td>
            <td style="text-align:center;"><i>Error</i></td>
            <td style="text-align:center;">&nbsp;</td>
            <td style="text-align:center;">Estimation</td>
            <td style="text-align:center;"><i>Error</i></td>
            </tr>
          <tr>
            <td><b>LRAM</b></td>
            <td style="text-align:center;">1.791759</td>
            <td style="text-align:center;"><i>0.753418</i></td>
            <td style="text-align:center;">&nbsp;</td>
            <td style="text-align:center;">2.183140</td>
            <td style="text-align:center;"><i>0.362037</i></td>
            <td style="text-align:center;">&nbsp;</td>
            <td style="text-align:center;">2.524327</td>
            <td style="text-align:center;"><i>0.020850</i></td>
            </tr>
          <tr>
            <td><b>RRAM</b> </td>
            <td style="text-align:center;">3.178054</td>
            <td style="text-align:center;"><i>-0.632877</i></td>
            <td style="text-align:center;">&nbsp;</td>
            <td style="text-align:center;">2.876287</td>
            <td style="text-align:center;"><i>-0.331110</i></td>
            <td style="text-align:center;">&nbsp;</td>
            <td style="text-align:center;">2.565916</td>
            <td style="text-align:center;"><i>-0.020739</i></td>
            </tr>
          <tr>
            <td><b>MRAM</b> </td>
            <td style="text-align:center;">2.574519</td>
            <td style="text-align:center;"><i>-0.029342</i></td>
            <td style="text-align:center;">&nbsp;</td>
            <td style="text-align:center;">2.552851</td>
            <td style="text-align:center;"><i>-0.007674</i></td>
            <td style="text-align:center;">&nbsp;</td>
            <td style="text-align:center;">2.545206</td>
            <td style="text-align:center;"><i>-0.000029</i></td>
            </tr>
          <tr>
            <td><b>Trapezoidal Rule</b></td>
            <td style="text-align:center;">2.484907</td>
            <td style="text-align:center;"><i>0.060271</i></td>
            <td style="text-align:center;">&nbsp;</td>
            <td style="text-align:center;">2.529713</td>
            <td style="text-align:center;"><i>0.015464</i></td>
            <td style="text-align:center;">&nbsp;</td>
            <td style="text-align:center;">2.545121</td>
            <td style="text-align:center;"><i>0.000055</i></td>
            </tr>
          <tr>
            <td><b>Simpson’s Rule</b></td>
            <td colspan="2" align="center"><i>(N must be even)</i></td>
            <td style="text-align:center;">&nbsp;</td>
            <td style="text-align:center;">2.544648</td>
            <td style="text-align:center;"><i>0.000529</i></td>
            <td style="text-align:center;">&nbsp;</td>
            <td style="text-align:center;">2.545177</td>
            <td style="text-align:center;"><i>&lt;0.000001</i></td>
            </tr>
        </tbody></table>
      </div>
<p class="center"><b>Simpson’s Rule</b> rules! And it is just as easy to use as the others.</p>
<p>Of course a different function will produce different results. Why not try some yourself?</p>


<h2>Maximum Error</h2>

<p>Often we won't know the actual answer ... so how do we know how good our estimate is?</p>
      <p>You can get a good feel by trying different slice widths.</p>
      <p>And there are also these <b>formulas for the maximum error</b> of  approximation (these are for the worst case and the actual error will hopefully be a lot smaller):</p>
      <p class="center large">For Midpoint: |E| =
          <span class="intbl">
          <em>K(b-a)<sup>3</sup></em>
          <strong>24n<sup>2</sup></strong>
        </span></p>
      <p class="center large">For Trapezoidal: |E| =
          <span class="intbl">
          <em>K(b-a)<sup>3</sup></em>
          <strong>12n<sup>2</sup></strong>
        </span></p>
      <p class="center large">For Simpson's: |E| =
          <span class="intbl">
          <em>M(b-a)<sup>5</sup></em>
          <strong>180n<sup>4</sup></strong>
        </span></p>
      <p>Where:</p>
      <ul>
        <li><b>|E|</b> is the <a href="../numbers/absolute-value.html">absolute value</a> of the maximum error (could be plus or minus)</li>
        <li><b>a</b> is the start of the interval</li>
        <li><b>b</b> is the end of the interval</li>
        <li><b>n</b> is the number of slices</li>
        <li><b>K</b> is the greatest  second derivative over the interval.</li>
        <li><b>M</b> is the greatest fourth derivative over the interval.</li>
        </ul>
      <p>(By "greatest" we mean the maximum absolute value.)</p>
      <p><b>a</b>, <b>b</b> and <b>n</b> are easy, but how do we find <b>K</b> and <b>M</b> ?</p>
      <div class="example">

<h3>Example: f(x) = ln(x) between 1 and 4</h3>
        <p>Let's find some derivatives first, we will need them:</p>
        <ul>
          <li>1<sup>st</sup> derivative: f'(x) = 1/x</li>
          <li>2<sup>nd</sup> derivative: f''(x) = −1/x<sup>2</sup></li>
          <li>3<sup>rd</sup> derivative: f<sup>(3)</sup>(x) = 2/x<sup>3</sup></li>
          <li>4<sup>th</sup> derivative: f<sup>(4)</sup>(x) = −6/x<sup>4</sup></li>
          <li>5<sup>th</sup> derivative: f<sup>(5)</sup>(x) = 24/x<sup>5</sup></li>
        </ul>
        <p>The greatest K could be at the start, end, or somewhere in between:</p>
        <ul>
          <li>Start: f''(1) = −1/1<sup>2</sup> = −1</li>
          <li>End: f''(4) = −1/4<sup>2</sup> = −1/16</li>
          <li>In between: use the 3<sup>rd</sup> derivative to see if there are zeros in the 1 to 4 interval, which could mean a change in direction.<br>
Does f<sup>(3)</sup>(x) = 0 between 1 and 4? No.  So  the  maximum is at start or end.</li>
        </ul>
        <p>So K = 1 (the maximum  absolute value)</p>
        <p>Same for M, but higher derivatives:</p>
        <ul>
          <li>Start: f<sup>(4)</sup>(1) = −6/1<sup>4</sup> = −6</li>
          <li>End: f<sup>(4)</sup>(4) = −6/4<sup>4</sup>= −6/256</li>
          <li>In between: use the 5<sup>th</sup> derivative to see if there are zeros in the 1 to 4 interval.<br>
Does f<sup>(5)</sup>(x) = 24/x<sup>5</sup> equal zero between 1 and 4? No.</li>
        </ul>
        <p>So M = 6 (the maximum  absolute value)</p>
        <p>For just 6 slices, the Maximum Errors are:</p>
        <p class="center large">Midpoint: |E| = <span class="intbl">
          <em>1(4−1)<sup>3</sup></em>
          <strong>24×6<sup>2</sup></strong>
        </span> = 0.03125</p>
        <p class="center large">Trapezoidal: |E| = <span class="intbl">
          <em>1(4−1)<sup>3</sup></em>
          <strong>12×6<sup>2</sup></strong>
        </span> = 0.0625</p>
        <p class="center large">Simpson's: |E| = <span class="intbl">
          <em>6(4−1)<sup>5</sup></em>
          <strong>180×6<sup>4</sup></strong>
        </span> = 0.00625</p>
      </div>


<h2>Shapes we Know</h2>

<p>The curve may have a shape we know, and we can  use  geometry formulas like these examples:</p>
      <div class="example">

<h3>Example: Triangle</h3>
        <p class="center"><img src="images/integral-approx-tri.gif" alt="integral approximation triangle" height="178" width="182"><br>
<b>f(x) = 2 − x</b>, from 0 to 2</p>
        <p class="center larger">A = ½ × 2 × 2 = <b>2</b></p>
      </div>
      <div class="example">

<h3>Example: Rectangle</h3>
        <p class="center"><img src="images/integral-approx-rect.gif" alt="integral approximation rectangle" height="132" width="173"><br>
<b>f(x) = 2</b>, from 0 to 3</p>
        <p class="center  larger">A = 2 × 3 = <b>6</b></p>
      </div>
      <div class="example">

<h3>Example: Semicircle</h3>
        <p class="center"><img src="images/integral-approx-circ.gif" alt="integral approximation circle" height="96" width="289"><br>
<b>f(x) = √(1 − x<sup>2</sup>)</b>, from −1 to +1</p>
        <p class="center larger">A =  <span class="times">π</span> r<sup>2</sup> / 2 =   <span class="times">π</span> / 2</p>
      </div>
      <p>&nbsp;</p>


<h2>Conclusion</h2>

<p class="dotpoint">We can estimate the area under a curve by slicing a function up</p>
      <div class="dotpoint">There are many ways of finding the area of each slice such as:


<ul>
          <li>Left Rectangular Approximation Method (LRAM)</li>
          <li>Right Rectangular Approximation Method (RRAM)</li>
          <li>Midpoint  Rectangular Approximation Method (MRAM)</li>
          <li>Trapezoidal Rule</li>
          <li>Simpson's Rule</li>
        </ul>
      </div>
      <div class="dotpoint">We can use error  formulas to find  the largest possible error in our estimate
      </div>
      <div class="dotpoint">Basic geometry formulas can sometimes help us  find areas under the curve</div>
      <p>&nbsp;</p>

<div class="related">  
  <a href="integration-introduction.html">Integration</a>  
  <a href="integral-approximation-calculator.html">Integral Approximations Calculator and Graph</a>  
  <a href="derivative-vs-integral.html">Graphical Intro to Derivatives and Integrals</a>
  <a href="index.html">Calculus Index</a>
</div>
      <!-- #EndEditable -->

</article>

<div id="adend" class="centerfull noprint"></div>
<footer id="footer" class="centerfull noprint"></footer>
<div id="copyrt">Copyright © 2021 MathsIsFun.com</div>

</div>
</body><!-- #EndTemplate -->
<!-- Mirrored from www.mathsisfun.com/calculus/integral-approximations.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 29 Oct 2022 00:32:13 GMT -->
</html>